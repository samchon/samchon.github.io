<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Samchon Framework for CPP: samchon::library::EventDispatcher Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../image.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Samchon Framework for CPP
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d3/d9b/classsamchon_1_1library_1_1EventDispatcher.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../d5/db0/classsamchon_1_1library_1_1EventDispatcher-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">samchon::library::EventDispatcher Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Abstract class for dispatching <a class="el" href="../../d2/d56/classsamchon_1_1library_1_1Event.html" title="Represent an event running on background. ">Event</a>.  
 <a href="../../d3/d9b/classsamchon_1_1library_1_1EventDispatcher.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d3/d60/EventDispatcher_8hpp_source.html">EventDispatcher.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for samchon::library::EventDispatcher:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/dc7/classsamchon_1_1library_1_1EventDispatcher__coll__graph.png" border="0" usemap="#samchon_1_1library_1_1EventDispatcher_coll__map" alt="Collaboration graph"/></div>
<map name="samchon_1_1library_1_1EventDispatcher_coll__map" id="samchon_1_1library_1_1EventDispatcher_coll__map">
<area shape="rect" id="node2" href="../../df/d85/classsamchon_1_1library_1_1RWMutex.html" title="rw_mutex " alt="" coords="23,5,207,32"/>
</map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aec174a9e25796e5727e59f5452817cda"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d9b/classsamchon_1_1library_1_1EventDispatcher.html#aec174a9e25796e5727e59f5452817cda">EventDispatcher</a> ()</td></tr>
<tr class="memdesc:aec174a9e25796e5727e59f5452817cda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default Constructor.  <a href="#aec174a9e25796e5727e59f5452817cda">More...</a><br /></td></tr>
<tr class="separator:aec174a9e25796e5727e59f5452817cda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a905ef816bc468a608d5001de14bc05bc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d9b/classsamchon_1_1library_1_1EventDispatcher.html#a905ef816bc468a608d5001de14bc05bc">EventDispatcher</a> (const <a class="el" href="../../d3/d9b/classsamchon_1_1library_1_1EventDispatcher.html">EventDispatcher</a> &amp;)</td></tr>
<tr class="memdesc:a905ef816bc468a608d5001de14bc05bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy Constructor.  <a href="#a905ef816bc468a608d5001de14bc05bc">More...</a><br /></td></tr>
<tr class="separator:a905ef816bc468a608d5001de14bc05bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e015c585451ebcb7326b4f4a961e80c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d9b/classsamchon_1_1library_1_1EventDispatcher.html#a2e015c585451ebcb7326b4f4a961e80c">EventDispatcher</a> (<a class="el" href="../../d3/d9b/classsamchon_1_1library_1_1EventDispatcher.html">EventDispatcher</a> &amp;&amp;)</td></tr>
<tr class="memdesc:a2e015c585451ebcb7326b4f4a961e80c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move Constructor.  <a href="#a2e015c585451ebcb7326b4f4a961e80c">More...</a><br /></td></tr>
<tr class="separator:a2e015c585451ebcb7326b4f4a961e80c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb5f401014e87f03027d6c4450964e55"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d9b/classsamchon_1_1library_1_1EventDispatcher.html#abb5f401014e87f03027d6c4450964e55">~EventDispatcher</a> ()</td></tr>
<tr class="memdesc:abb5f401014e87f03027d6c4450964e55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default Destructor.  <a href="#abb5f401014e87f03027d6c4450964e55">More...</a><br /></td></tr>
<tr class="separator:abb5f401014e87f03027d6c4450964e55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae643ab4d80aba349f0d164d4d9d7231e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d9b/classsamchon_1_1library_1_1EventDispatcher.html#ae643ab4d80aba349f0d164d4d9d7231e">addEventListener</a> (int, Listener, void *=nullptr)</td></tr>
<tr class="memdesc:ae643ab4d80aba349f0d164d4d9d7231e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register an event listener.  <a href="#ae643ab4d80aba349f0d164d4d9d7231e">More...</a><br /></td></tr>
<tr class="separator:ae643ab4d80aba349f0d164d4d9d7231e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d8cdebc479023bc69318ff53825fa1f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d9b/classsamchon_1_1library_1_1EventDispatcher.html#a2d8cdebc479023bc69318ff53825fa1f">removeEventListener</a> (int, Listener, void *=nullptr)</td></tr>
<tr class="memdesc:a2d8cdebc479023bc69318ff53825fa1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a registered event listener.  <a href="#a2d8cdebc479023bc69318ff53825fa1f">More...</a><br /></td></tr>
<tr class="separator:a2d8cdebc479023bc69318ff53825fa1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a981238f1e22111c2f74bb109026de5b0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d9b/classsamchon_1_1library_1_1EventDispatcher.html#a981238f1e22111c2f74bb109026de5b0">dispatch</a> (std::shared_ptr&lt; <a class="el" href="../../d2/d56/classsamchon_1_1library_1_1Event.html">Event</a> &gt;)</td></tr>
<tr class="memdesc:a981238f1e22111c2f74bb109026de5b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dispatches an event to all listeners.  <a href="#a981238f1e22111c2f74bb109026de5b0">More...</a><br /></td></tr>
<tr class="separator:a981238f1e22111c2f74bb109026de5b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a96855e9f4250bdb95e8a66f2baa51a80"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d9b/classsamchon_1_1library_1_1EventDispatcher.html#a96855e9f4250bdb95e8a66f2baa51a80">THREAD_SIZE</a> = 2</td></tr>
<tr class="memdesc:a96855e9f4250bdb95e8a66f2baa51a80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Numer of threads for background.  <a href="#a96855e9f4250bdb95e8a66f2baa51a80">More...</a><br /></td></tr>
<tr class="separator:a96855e9f4250bdb95e8a66f2baa51a80"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a405aa2ccd34932e846f35c574c40d83a"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; int, std::unordered_map&lt; Listener, std::unordered_set&lt; void * &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d9b/classsamchon_1_1library_1_1EventDispatcher.html#a405aa2ccd34932e846f35c574c40d83a">listeners</a></td></tr>
<tr class="memdesc:a405aa2ccd34932e846f35c574c40d83a"><td class="mdescLeft">&#160;</td><td class="mdescRight">A container storing listeners.  <a href="#a405aa2ccd34932e846f35c574c40d83a">More...</a><br /></td></tr>
<tr class="separator:a405aa2ccd34932e846f35c574c40d83a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a472d1c3668fe32fe3aefd5cad424500a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d85/classsamchon_1_1library_1_1RWMutex.html">RWMutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d9b/classsamchon_1_1library_1_1EventDispatcher.html#a472d1c3668fe32fe3aefd5cad424500a">mtx</a></td></tr>
<tr class="memdesc:a472d1c3668fe32fe3aefd5cad424500a"><td class="mdescLeft">&#160;</td><td class="mdescRight">A rw_mutex for concurrency.  <a href="#a472d1c3668fe32fe3aefd5cad424500a">More...</a><br /></td></tr>
<tr class="separator:a472d1c3668fe32fe3aefd5cad424500a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Abstract class for dispatching <a class="el" href="../../d2/d56/classsamchon_1_1library_1_1Event.html" title="Represent an event running on background. ">Event</a>. </p>
<p><a class="el" href="../../d3/d9b/classsamchon_1_1library_1_1EventDispatcher.html" title="Abstract class for dispatching Event. ">EventDispatcher</a> is the base class for all classes that dispatch events. </p>
<p>All the events are sent asynchronously. To avoid from creating tooo enourmouse threads dispatching events, all event sending processes will acuiqre a semaphore. The default permitted size of the semaphore is 2. </p>
<ul>
<li>Number of thread pools used to sending events is 2.</li>
</ul>
<div class="image">
<img src="../../library_event.png" alt="library_event.png"/>
</div>
 <dl class="section user"><dt>Example Source</dt><dd><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#include &lt;thread&gt;</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &lt;chrono&gt;</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;samchon/library/EventDispatcher.hpp&gt;</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;samchon/library/Event.hpp&gt;</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;samchon/library/ProgressEvent.hpp&gt;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#ifdef _WIN64</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#   ifdef _DEBUG</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#       pragma comment(lib, &quot;x64/Debug/SamchonFramework.lib&quot;)</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#   else</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#       pragma comment(lib, &quot;x64/Release/SamchonFramework.lib&quot;)</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#   endif</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#   ifdef _DEBUG</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#       pragma comment(lib, &quot;Debug/SamchonFramework.lib&quot;)</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#   else</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#       pragma comment(lib, &quot;Release/SamchonFramework.lib&quot;)</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#   endif</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="keyword">using namespace </span><a class="code" href="../../d8/dcc/namespacestd.html">std</a>;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="keyword">using namespace </span><a class="code" href="../../d8/dd4/namespacesamchon_1_1library.html">samchon::library</a>;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="keyword">class </span>Process</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    : <span class="keyword">public</span> <a class="code" href="../../d3/d9b/classsamchon_1_1library_1_1EventDispatcher.html">EventDispatcher</a></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;{</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    Process()</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    {</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    };</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="keywordtype">void</span> run()</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    {</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        dispatchEvent(shared_ptr&lt;Event&gt;(<span class="keyword">new</span> <a class="code" href="../../d2/d56/classsamchon_1_1library_1_1Event.html">Event</a>(<span class="keyword">this</span>, Event::ACTIVATE)));</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; 100; i++)</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        {</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;            this_thread::sleep_for(chrono::seconds(1));</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;            dispatchEvent(shared_ptr&lt;Event&gt;(<span class="keyword">new</span> <a class="code" href="../../de/d4a/classsamchon_1_1library_1_1ProgressEvent.html">ProgressEvent</a>(<span class="keyword">this</span>, i + 1, 100)));</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        }</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        dispatchEvent(shared_ptr&lt;Event&gt;(<span class="keyword">new</span> <a class="code" href="../../d2/d56/classsamchon_1_1library_1_1Event.html">Event</a>(<span class="keyword">this</span>, Event::COMPLETE)));</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    };</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;};</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="keywordtype">void</span> handleActivate(shared_ptr&lt;Event&gt; event)</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;{</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;Activated&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;}</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="keywordtype">void</span> handleComplete(shared_ptr&lt;Event&gt; event)</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;{</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;Completed&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;}</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="keywordtype">void</span> handleProgress(shared_ptr&lt;Event&gt; event)</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;{</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    cout &lt;&lt; dynamic_pointer_cast&lt;ProgressEvent&gt;(event)-&gt;getPercent() * 100.0 &lt;&lt; <span class="stringliteral">&quot;%&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;}</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="keywordtype">void</span> main()</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;{</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    Process process;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    process.addEventListener(Event::ACTIVATE, handleActivate);</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    process.addEventListener(Event::COMPLETE, handleComplete);</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    process.addEventListener(ProgressEvent::PROGRESS, handleProgress);</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    process.run();</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    system(<span class="stringliteral">&quot;pause&quot;</span>);</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;}</div><div class="ttc" id="namespacestd_html"><div class="ttname"><a href="../../d8/dcc/namespacestd.html">std</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d85/RWMutex_8hpp_source.html#l00004">RWMutex.hpp:4</a></div></div>
<div class="ttc" id="namespacesamchon_1_1library_html"><div class="ttname"><a href="../../d8/dd4/namespacesamchon_1_1library.html">samchon::library</a></div><div class="ttdoc">Package of libraries. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db7/documentation_2library_8hpp_source.html#l00084">library.hpp:84</a></div></div>
<div class="ttc" id="classsamchon_1_1library_1_1Event_html"><div class="ttname"><a href="../../d2/d56/classsamchon_1_1library_1_1Event.html">samchon::library::Event</a></div><div class="ttdoc">Represent an event running on background. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7d/Event_8hpp_source.html#l00042">Event.hpp:42</a></div></div>
<div class="ttc" id="classsamchon_1_1library_1_1ProgressEvent_html"><div class="ttname"><a href="../../de/d4a/classsamchon_1_1library_1_1ProgressEvent.html">samchon::library::ProgressEvent</a></div><div class="ttdoc">Event representing a progress. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d67/ProgressEvent_8hpp_source.html#l00017">ProgressEvent.hpp:17</a></div></div>
<div class="ttc" id="classsamchon_1_1library_1_1EventDispatcher_html"><div class="ttname"><a href="../../d3/d9b/classsamchon_1_1library_1_1EventDispatcher.html">samchon::library::EventDispatcher</a></div><div class="ttdoc">Abstract class for dispatching Event. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d60/EventDispatcher_8hpp_source.html#l00051">EventDispatcher.hpp:51</a></div></div>
</div><!-- fragment --></dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000002">Deprecated:</a></b></dt><dd></dd></dl>
<p><a class="el" href="../../d3/d9b/classsamchon_1_1library_1_1EventDispatcher.html" title="Abstract class for dispatching Event. ">EventDispatcher</a> is a candidate to be deprecated. </p>
<p>Since C++11, calling member method of a class by a new thread passing by static method and using void pointer are recommeded to avoid. As the reason, using <em>std::thread</em> and <em>std::bind</em> will be better. </p>
<ul>
<li>std::thread: <a href="http://www.cplusplus.com/reference/thread/thread/">http://www.cplusplus.com/reference/thread/thread/</a> </li>
<li>std::bind: <a href="http://www.cplusplus.com/reference/functional/bind/">http://www.cplusplus.com/reference/functional/bind/</a></li>
</ul>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d8/dd4/namespacesamchon_1_1library.html" title="Package of libraries. ">samchon::library</a> </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jeongho Nam, Jun Ryoung Ju </dd></dl>

<p>Definition at line <a class="el" href="../../d3/d60/EventDispatcher_8hpp_source.html#l00051">51</a> of file <a class="el" href="../../d3/d60/EventDispatcher_8hpp_source.html">EventDispatcher.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aec174a9e25796e5727e59f5452817cda"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EventDispatcher::EventDispatcher </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default Constructor. </p>

<p>Definition at line <a class="el" href="../../d2/df5/EventDispatcher_8cpp_source.html#l00012">12</a> of file <a class="el" href="../../d2/df5/EventDispatcher_8cpp_source.html">EventDispatcher.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a905ef816bc468a608d5001de14bc05bc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EventDispatcher::EventDispatcher </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d3/d9b/classsamchon_1_1library_1_1EventDispatcher.html">EventDispatcher</a> &amp;&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy Constructor. </p>
<p>Copying an <a class="el" href="../../d3/d9b/classsamchon_1_1library_1_1EventDispatcher.html" title="Abstract class for dispatching Event. ">EventDispatcher</a> instance does not copy the event listeners attached to it. (If your newly created node needs an event listener, you must attach the listener after creating the node.)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eventDispatcher</td><td>The object to copy </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d2/df5/EventDispatcher_8cpp_source.html#l00015">15</a> of file <a class="el" href="../../d2/df5/EventDispatcher_8cpp_source.html">EventDispatcher.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a2e015c585451ebcb7326b4f4a961e80c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EventDispatcher::EventDispatcher </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d9b/classsamchon_1_1library_1_1EventDispatcher.html">EventDispatcher</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Move Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eventDispatcher</td><td>The object to move </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d2/df5/EventDispatcher_8cpp_source.html#l00019">19</a> of file <a class="el" href="../../d2/df5/EventDispatcher_8cpp_source.html">EventDispatcher.cpp</a>.</p>

<p>References <a class="el" href="../../d6/d2f/UniqueWriteLock_8cpp_source.html#l00042">samchon::library::UniqueWriteLock::unlock()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/d9b/classsamchon_1_1library_1_1EventDispatcher_a2e015c585451ebcb7326b4f4a961e80c_cgraph.png" border="0" usemap="#d3/d9b/classsamchon_1_1library_1_1EventDispatcher_a2e015c585451ebcb7326b4f4a961e80c_cgraph" alt=""/></div>
<map name="d3/d9b/classsamchon_1_1library_1_1EventDispatcher_a2e015c585451ebcb7326b4f4a961e80c_cgraph" id="d3/d9b/classsamchon_1_1library_1_1EventDispatcher_a2e015c585451ebcb7326b4f4a961e80c_cgraph">
<area shape="rect" id="node2" href="../../d1/dc0/classsamchon_1_1library_1_1UniqueWriteLock.html#a06a35e949603a24c9a71e7a34a5bc6c8" title="Unlock on writing. " alt="" coords="273,5,440,47"/>
<area shape="rect" id="node3" href="../../df/d85/classsamchon_1_1library_1_1RWMutex.html#ad10d0a769b2f2605beeb4c9fe73d5bc3" title="Unlock on writing. " alt="" coords="488,5,672,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abb5f401014e87f03027d6c4450964e55"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">EventDispatcher::~EventDispatcher </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default Destructor. </p>

<p>Definition at line <a class="el" href="../../d2/df5/EventDispatcher_8cpp_source.html#l00039">39</a> of file <a class="el" href="../../d2/df5/EventDispatcher_8cpp_source.html">EventDispatcher.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ae643ab4d80aba349f0d164d4d9d7231e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EventDispatcher::addEventListener </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Listener&#160;</td>
          <td class="paramname"><em>listener</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>addiction</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register an event listener. </p>
<p>Registers an event listener object with an <a class="el" href="../../d3/d9b/classsamchon_1_1library_1_1EventDispatcher.html" title="Abstract class for dispatching Event. ">EventDispatcher</a> object so that the listener receives notification of an event.</p>
<dl class="section warning"><dt>Warning</dt><dd>Copying an <a class="el" href="../../d3/d9b/classsamchon_1_1library_1_1EventDispatcher.html" title="Abstract class for dispatching Event. ">EventDispatcher</a> instance does not copy the event listeners attached to it. (If your newly created node needs an event listener, you must attach the listener after creating the node.) However, if you move an <a class="el" href="../../d3/d9b/classsamchon_1_1library_1_1EventDispatcher.html" title="Abstract class for dispatching Event. ">EventDispatcher</a> instance, the event listeners attached to it move along with it.</dd>
<dd>
If you no longer need an event listener, remove it by calling removeEventListener, or <a class="el" href="../../d3/d9b/classsamchon_1_1library_1_1EventDispatcher.html" title="Abstract class for dispatching Event. ">EventDispatcher</a> already try to send events to the no longer needed listener and it can cause some confliction.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>The type of event. </td></tr>
    <tr><td class="paramname">listener</td><td>The listener function processes the event. </td></tr>
    <tr><td class="paramname">addiction</td><td>Something to be addicted following the listener. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d2/df5/EventDispatcher_8cpp_source.html#l00054">54</a> of file <a class="el" href="../../d2/df5/EventDispatcher_8cpp_source.html">EventDispatcher.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a2d8cdebc479023bc69318ff53825fa1f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EventDispatcher::removeEventListener </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Listener&#160;</td>
          <td class="paramname"><em>listener</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>addiction</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a registered event listener. </p>
<p>Removes a listener from the <a class="el" href="../../d3/d9b/classsamchon_1_1library_1_1EventDispatcher.html" title="Abstract class for dispatching Event. ">EventDispatcher</a> object. If there is no matching listener registered with the <a class="el" href="../../d3/d9b/classsamchon_1_1library_1_1EventDispatcher.html" title="Abstract class for dispatching Event. ">EventDispatcher</a> object, a call to this method has no effect</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>The type of event. </td></tr>
    <tr><td class="paramname">listener</td><td>The listener function to remove. </td></tr>
    <tr><td class="paramname">addiction</td><td>Somethhing to be addicted following the listener. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d2/df5/EventDispatcher_8cpp_source.html#l00060">60</a> of file <a class="el" href="../../d2/df5/EventDispatcher_8cpp_source.html">EventDispatcher.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a981238f1e22111c2f74bb109026de5b0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EventDispatcher::dispatch </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="../../d2/d56/classsamchon_1_1library_1_1Event.html">Event</a> &gt;&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dispatches an event to all listeners. </p>
<p>Dispatches an event into the event flow in the background. The <a class="el" href="../../d2/d56/classsamchon_1_1library_1_1Event.html#a4a1f085faecf6b69fe99a28d1fd9368d" title="Source of the event. ">Event::source</a> is the <a class="el" href="../../d3/d9b/classsamchon_1_1library_1_1EventDispatcher.html" title="Abstract class for dispatching Event. ">EventDispatcher</a> object upon which the dispatchEvent. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>The <a class="el" href="../../d2/d56/classsamchon_1_1library_1_1Event.html" title="Represent an event running on background. ">Event</a> object that is dispatched into the event flow. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Whether there's some listener to listen the event </dd></dl>

<p>Definition at line <a class="el" href="../../d2/df5/EventDispatcher_8cpp_source.html#l00083">83</a> of file <a class="el" href="../../d2/df5/EventDispatcher_8cpp_source.html">EventDispatcher.cpp</a>.</p>

<p>References <a class="el" href="../../d9/d2f/UniqueReadLock_8cpp_source.html#l00044">samchon::library::UniqueReadLock::unlock()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/d9b/classsamchon_1_1library_1_1EventDispatcher_a981238f1e22111c2f74bb109026de5b0_cgraph.png" border="0" usemap="#d3/d9b/classsamchon_1_1library_1_1EventDispatcher_a981238f1e22111c2f74bb109026de5b0_cgraph" alt=""/></div>
<map name="d3/d9b/classsamchon_1_1library_1_1EventDispatcher_a981238f1e22111c2f74bb109026de5b0_cgraph" id="d3/d9b/classsamchon_1_1library_1_1EventDispatcher_a981238f1e22111c2f74bb109026de5b0_cgraph">
<area shape="rect" id="node2" href="../../de/d6f/classsamchon_1_1library_1_1UniqueReadLock.html#a92261fd71c839cda0bde3c168d4ce7ac" title="Unlock of read. " alt="" coords="273,5,440,47"/>
<area shape="rect" id="node3" href="../../df/d85/classsamchon_1_1library_1_1RWMutex.html#a0386fc2911efb6d839490ef8613c78bd" title="Unlock of read. " alt="" coords="488,5,672,47"/>
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a405aa2ccd34932e846f35c574c40d83a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;int, std::unordered_map&lt;Listener, std::unordered_set&lt;void*&gt; &gt; &gt; samchon::library::EventDispatcher::listeners</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A container storing listeners. </p>

<p>Definition at line <a class="el" href="../../d3/d60/EventDispatcher_8hpp_source.html#l00061">61</a> of file <a class="el" href="../../d3/d60/EventDispatcher_8hpp_source.html">EventDispatcher.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a472d1c3668fe32fe3aefd5cad424500a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d85/classsamchon_1_1library_1_1RWMutex.html">RWMutex</a> samchon::library::EventDispatcher::mtx</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A rw_mutex for concurrency. </p>

<p>Definition at line <a class="el" href="../../d3/d60/EventDispatcher_8hpp_source.html#l00066">66</a> of file <a class="el" href="../../d3/d60/EventDispatcher_8hpp_source.html">EventDispatcher.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a96855e9f4250bdb95e8a66f2baa51a80"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t EventDispatcher::THREAD_SIZE = 2</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Numer of threads for background. </p>

<p>Definition at line <a class="el" href="../../d3/d60/EventDispatcher_8hpp_source.html#l00168">168</a> of file <a class="el" href="../../d3/d60/EventDispatcher_8hpp_source.html">EventDispatcher.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>D:/OneDrive/Project/Samchon/framework/cpp/samchon/library/<a class="el" href="../../d3/d60/EventDispatcher_8hpp_source.html">EventDispatcher.hpp</a></li>
<li>D:/OneDrive/Project/Samchon/framework/cpp/samchon/library/<a class="el" href="../../d2/df5/EventDispatcher_8cpp_source.html">EventDispatcher.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../db/df1/namespacesamchon.html">samchon</a></li><li class="navelem"><a class="el" href="../../d8/dd4/namespacesamchon_1_1library.html">library</a></li><li class="navelem"><a class="el" href="../../d3/d9b/classsamchon_1_1library_1_1EventDispatcher.html">EventDispatcher</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
