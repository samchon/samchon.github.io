<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>Samchon Framework for CPP: CriticalAllocator&lt; _Ty &gt; Class Template Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../image.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Samchon Framework for CPP
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d6/d32/classsamchon_1_1library_1_1CriticalAllocator.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../d8/d2a/classsamchon_1_1library_1_1CriticalAllocator-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CriticalAllocator&lt; _Ty &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>An allocator ensuring concurrency.  
 <a href="../../d6/d32/classsamchon_1_1library_1_1CriticalAllocator.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d0/da7/CriticalAllocator_8hpp_source.html">CriticalAllocator.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for CriticalAllocator&lt; _Ty &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/ddf/classsamchon_1_1library_1_1CriticalAllocator__coll__graph.png" border="0" usemap="#CriticalAllocator_3_01__Ty_01_4_coll__map" alt="Collaboration graph"/></div>
<map name="CriticalAllocator_3_01__Ty_01_4_coll__map" id="CriticalAllocator_3_01__Ty_01_4_coll__map">
<area shape="rect" id="node2" href="../../df/d85/classsamchon_1_1library_1_1RWMutex.html" title="rw_mutex " alt="" coords="26,5,106,32"/>
</map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a70dc434a7423a14e3801e9f730982ef8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a70dc434a7423a14e3801e9f730982ef8"></a>
auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d32/classsamchon_1_1library_1_1CriticalAllocator.html#a70dc434a7423a14e3801e9f730982ef8">getMutex</a> () -&gt; <a class="el" href="../../df/d85/classsamchon_1_1library_1_1RWMutex.html">RWMutex</a> &amp;</td></tr>
<tr class="memdesc:a70dc434a7423a14e3801e9f730982ef8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get rw_mutex. <br /></td></tr>
<tr class="separator:a70dc434a7423a14e3801e9f730982ef8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab89287137d6086f913bc4c8881aaec41"><td class="memTemplParams" colspan="2">template&lt;class _U , class... _Args&gt; </td></tr>
<tr class="memitem:ab89287137d6086f913bc4c8881aaec41"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../d6/d32/classsamchon_1_1library_1_1CriticalAllocator.html#ab89287137d6086f913bc4c8881aaec41">construct</a> (_U *ptr, _Args &amp;&amp;...args)</td></tr>
<tr class="memdesc:ab89287137d6086f913bc4c8881aaec41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock when constructed.<br />
 [Inherited] Construct an object.<br />
.  <a href="#ab89287137d6086f913bc4c8881aaec41">More...</a><br /></td></tr>
<tr class="separator:ab89287137d6086f913bc4c8881aaec41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bb26c897c31db2c620b4a52d34ecdf8"><td class="memTemplParams" colspan="2">template&lt;class _U &gt; </td></tr>
<tr class="memitem:a6bb26c897c31db2c620b4a52d34ecdf8"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../d6/d32/classsamchon_1_1library_1_1CriticalAllocator.html#a6bb26c897c31db2c620b4a52d34ecdf8">destroy</a> (_U *ptr)</td></tr>
<tr class="memdesc:a6bb26c897c31db2c620b4a52d34ecdf8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock when destroyed<br />
 [Inherited] Destory an object.  <a href="#a6bb26c897c31db2c620b4a52d34ecdf8">More...</a><br /></td></tr>
<tr class="separator:a6bb26c897c31db2c620b4a52d34ecdf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d37941dfd941c7802c6c44e23112865"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d32/classsamchon_1_1library_1_1CriticalAllocator.html#a5d37941dfd941c7802c6c44e23112865">allocate</a> (size_type n, std::allocator&lt; void &gt;::const_pointer hint=NULL) -&gt; pointer</td></tr>
<tr class="memdesc:a5d37941dfd941c7802c6c44e23112865"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock when allocated<br />
 [Inherited] Allocate block of storage.  <a href="#a5d37941dfd941c7802c6c44e23112865">More...</a><br /></td></tr>
<tr class="separator:a5d37941dfd941c7802c6c44e23112865"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa967c877a16093a0447db172b3403bd7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d32/classsamchon_1_1library_1_1CriticalAllocator.html#aa967c877a16093a0447db172b3403bd7">deallocate</a> (pointer ptr, size_type size)</td></tr>
<tr class="memdesc:aa967c877a16093a0447db172b3403bd7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock when deallocated<br />
 [Inherited] Release block of storage.  <a href="#aa967c877a16093a0447db172b3403bd7">More...</a><br /></td></tr>
<tr class="separator:aa967c877a16093a0447db172b3403bd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a60615df8c23ca3f9f1a9bfd1dfdceaca"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a60615df8c23ca3f9f1a9bfd1dfdceaca"></a>
<a class="el" href="../../df/d85/classsamchon_1_1library_1_1RWMutex.html">RWMutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d32/classsamchon_1_1library_1_1CriticalAllocator.html#a60615df8c23ca3f9f1a9bfd1dfdceaca">mtx</a></td></tr>
<tr class="memdesc:a60615df8c23ca3f9f1a9bfd1dfdceaca"><td class="mdescLeft">&#160;</td><td class="mdescRight">A rw_mutex for handling concurrency. <br /></td></tr>
<tr class="separator:a60615df8c23ca3f9f1a9bfd1dfdceaca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class _Ty&gt;<br />
class samchon::library::CriticalAllocator&lt; _Ty &gt;</h3>

<p>An allocator ensuring concurrency. </p>
<p><a class="el" href="../../d6/d32/classsamchon_1_1library_1_1CriticalAllocator.html" title="An allocator ensuring concurrency. ">CriticalAllocator</a> is a std::allocator ensuring concurrency. </p>
<p><a class="el" href="../../d6/d32/classsamchon_1_1library_1_1CriticalAllocator.html" title="An allocator ensuring concurrency. ">CriticalAllocator</a> keeps safety in multi-threading environment automatically. But it ensures only safety. If a logic needs a mutual exclusion not only level of the container, it'd better to avoid using the <a class="el" href="../../d6/d32/classsamchon_1_1library_1_1CriticalAllocator.html" title="An allocator ensuring concurrency. ">CriticalAllocator</a> and use <a class="el" href="../../df/d85/classsamchon_1_1library_1_1RWMutex.html" title="rw_mutex ">RWMutex</a> by yourself. </p>
<dl class="section user"><dt>[Inherited]]</dt><dd></dd></dl>
<p>Allocators are classes that define memory models to be used by some parts of the Standard Library, and most specifically, by STL containers. </p>
<p>This section describes the default allocator template allocator (lowercase). This is the allocator that all standard containers will use if their last (and optional) template parameter is not specified, and is the only predefined allocator in the standard library. &lt;/p&lt;</p>
<p>Other allocators may be defined. Any class Alloc for which allocator_traits&lt;Alloc&gt; produces a valid instantiation with the appropriate members defined can be used as an allocator on standard containers (Alloc may or may not implement the functionality through member functions). &lt;/p&lt;</p>
<p>Except for its destructor, no member of the standard default allocator class template shall introduce data races. Calls to member functions that allocate or deallocate storage shall occur in a single total order, and each such deallocation shall happen before the next allocation (if any) in this order. </p>
<p>Technically, a memory model described by allocators might be specialized for each type of object to be allocated and even may store local data for each container they work with. Although this does not happen with the default allocator. </p>
<p>Referenced comments of std::allocator </p>
<ul>
<li><a href="http://www.cplusplus.com/reference/memory/allocator/">http://www.cplusplus.com/reference/memory/allocator/</a></li>
</ul>
<div class="image">
<img src="../../library_critical_section.png" alt="library_critical_section.png"/>
</div>
 <dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">_Ty</td><td>Type of the elements allocated by the object (aliased as member type value_type).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d8/dd4/namespacesamchon_1_1library.html" title="Package of libraries. ">samchon::library</a> </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jeongho Nam </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ab89287137d6086f913bc4c8881aaec41"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void construct </td>
          <td>(</td>
          <td class="paramtype">_U *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">_Args &amp;&amp;...&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Lock when constructed.<br />
 [Inherited] Construct an object.<br />
. </p>
<dl class="section user"><dt></dt><dd>Locks a mutex for concurrency when an elmented is constructed.</dd></dl>
<dl class="section user"><dt>[Inherited] </dt><dd></dd></dl>
<p>Constructs an element object on the location pointed by p. </p>
<p>Notice that this does not allocate space for the element. It should already be available at p (see member allocate to allocate space). </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">_U</td><td></td></tr>
    <tr><td class="paramname">_Args</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>Pointer to a location with enough storage space to contain an element of type _U. </td></tr>
    <tr><td class="paramname">args</td><td>Arguments forwarded to the constructor.<br />
 Args is a list of zero or more types. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6bb26c897c31db2c620b4a52d34ecdf8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void destroy </td>
          <td>(</td>
          <td class="paramtype">_U *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Lock when destroyed<br />
 [Inherited] Destory an object. </p>
<dl class="section user"><dt></dt><dd>Locks a mutex for concurrency when an child is destroyed</dd></dl>
<dl class="section user"><dt>[Inherited] </dt><dd></dd></dl>
<p>Destroys in-place the object pointed by p. </p>
<p>Notice that this does not deallocate the storage for the element (see member deallocate to release storage space). </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">_U</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>Pointer to the object to be destroyed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5d37941dfd941c7802c6c44e23112865"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto allocate </td>
          <td>(</td>
          <td class="paramtype">size_type&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::allocator&lt; void &gt;::const_pointer&#160;</td>
          <td class="paramname"><em>hint</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> -&gt; pointer
			</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Lock when allocated<br />
 [Inherited] Allocate block of storage. </p>
<p>Locks a mutex for concurrency when children elements are deallocated. </p>
<dl class="section user"><dt>[Inherited]</dt><dd></dd></dl>
<p>Attempts to allocate a block of storage with a size large enough to contain n elements of member type value_type (an alias of the allocator's template parameter), and returns a pointer to the first element. </p>
<p>The storage is aligned appropriately for objects of type value_type, but they are not constructed. </p>
<p>In the standard default allocator, the block of storage is allocated using ::operator new one or more times, and throws bad_alloc if it cannot allocate the total amount of storage requested. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>Number of elements (each of size sizeof(value_type)) to be allocated.<br />
 The member type size_type is an alias of size_t (in the standard default allocator) size_t is an unsigned integral type. </td></tr>
    <tr><td class="paramname">hint</td><td>Either 0 or a value previously obtained by another call to allocate and not yet freed with deallocate. When it is not 0, this value may be used as a hint to improve performance by allocating the new block near the one specified. The address of an adjacent element is often a good choice. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<dl class="section user"><dt>A pointer to the initial element in the block of storage.</dt><dd></dd></dl>
<dl class="section user"><dt>pointer and const_pointer are member types (defined as aliases of T* and const T* respectively in std::allocator).</dt><dd></dd></dl>
<dl class="section user"><dt>The standard default allocator throws bad_alloc if it cannot allocate the requested amount of storage.</dt><dd></dd></dl>

</div>
</div>
<a class="anchor" id="aa967c877a16093a0447db172b3403bd7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void deallocate </td>
          <td>(</td>
          <td class="paramtype">pointer&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_type&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Lock when deallocated<br />
 [Inherited] Release block of storage. </p>
<p>Locks a mutex for concurrency when children elements are deallocated. </p>
<dl class="section user"><dt>[Inherited]</dt><dd></dd></dl>
<p>Releases a block of storage previously allocated with member allocate and not yet released. </p>
<p>The elements in the array are not destroyed by a call to this member function. </p>
<p>In the default allocator, the block of storage is at some point deallocated using ::operator delete (either during the function call, or later). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>Pointer to a block of storage previously allocated with allocator::allocate.<br />
 pointer is a member type (defined as an alias of T* in std::allocator&lt;_Ty&gt;). </td></tr>
    <tr><td class="paramname">size</td><td>Number of elements allocated on the call to allocator::allocate for this block of storage. The member type size_type is an alias of size_t (in the standard default allocator). size_t is an unsigned integral type. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>D:/OneDrive/Project/Samchon/framework/cpp/samchon/library/<a class="el" href="../../d0/da7/CriticalAllocator_8hpp_source.html">CriticalAllocator.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../db/df1/namespacesamchon.html">samchon</a></li><li class="navelem"><a class="el" href="../../d8/dd4/namespacesamchon_1_1library.html">library</a></li><li class="navelem"><a class="el" href="../../d6/d32/classsamchon_1_1library_1_1CriticalAllocator.html">CriticalAllocator</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
